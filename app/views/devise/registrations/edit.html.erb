<div class="authentication-container">
  <div class="authentication-card">
    <div class="authentication-logo">
      <%= image_tag 'logo.png', alt: 'Lancelot Logo' %>
    </div>

    <h2 class="authentication-title">Modify thy Profile</h2>

    <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name),
                        html: { method: :put, class: 'authentication-form' }) do |f| %>
      <%= f.error_notification %>

      <div class="form-inputs">
        <%= f.input :email,
                    required: true,
                    autofocus: true,
                    input_html: { class: 'medieval-input' },
                    wrapper_html: { class: 'mb-3' } %>

        <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
          <p class="medieval-notice">Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
        <% end %>

        <%= f.input :password,
                    hint: "leave empty if thou wish not to change it",
                    required: false,
                    input_html: {
                      autocomplete: "new-password",
                      class: 'medieval-input'
                    },
                    label: 'New Secret Passphrase',
                    wrapper_html: { class: 'mb-3' } %>

        <%= f.input :password_confirmation,
                    required: false,
                    input_html: {
                      autocomplete: "new-password",
                      class: 'medieval-input'
                    },
                    label: 'Confirm thy New Passphrase',
                    wrapper_html: { class: 'mb-3' } %>

        <%= f.input :current_password,
                    hint: "we need thy current password to confirm changes",
                    required: true,
                    input_html: {
                      autocomplete: "current-password",
                      class: 'medieval-input'
                    },
                    label: 'Current Secret Passphrase',
                    wrapper_html: { class: 'mb-3' } %>
      </div>

      <div class="form-actions mb-4">
        <%= f.button :submit, "Update thy Profile", class: 'btn-medieval' %>
      </div>
    <% end %>

    <div class="account-management">
      <h3 class="medieval-subtitle">Abandon thy Quest</h3>

      <div class="medieval-danger-zone">
        <p>Unhappy with thy journey? </p>
        <%= button_to "Cancel thy Account",
                      registration_path(resource_name),
                      data: {
                        confirm: "Art thou certain?",
                        turbo_confirm: "Art thou certain?"
                      },
                      method: :delete,
                      class: 'btn-medieval-danger' %>
      </div>

      <%= link_to "Back to thy Profile", :back, class: 'btn-medieval-secondary mt-3' %>
    </div>
  </div>
</div>